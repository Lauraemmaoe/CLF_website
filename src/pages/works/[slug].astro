---
import MainLayout from "../../Layout/MainLayout.astro";

export async function getStaticPaths() {
  const data = await fetch("https://blnvnuoflfvyhnlelhww.supabase.co/rest/v1/Database CLF", {
    method: "GET",
    headers: {
      apikey: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJsbnZudW9mbGZ2eWhubGVsaHd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTA0OTYwMDgsImV4cCI6MjAyNjA3MjAwOH0.MzwYu3VMdV5kZ7WOfWD9Mih_W2HkZAABnLM8AvaBHn4",
    },
  }).then((response) => response.json());
  console.log("data er:", data);
  return data.map((post) => {
    return {
      params: { slug: post.slug },
      props: { post },
    };
  });
}
const { post } = Astro.props;
---

<MainLayout>
  <img src={post.image} alt="" />
  <h3>{post.name}</h3>
  <h1>{post.artist}</h1>
  <p>{post.description}</p>
  <h4>{post.location}</h4>
</MainLayout>

<style>
  img {
    width: 75%;
    height: auto;
    margin-left: 13%;
    margin-right: 2%;
  }
  h1 {
    color: #72bbca;
    font-size: 2rem;
    margin-left: 13%;
  }
  p {
    font-size: 1rem;
    margin-left: 13%;
    margin-right: 25%;
  }
</style>
